<!DOCTYPE html>
<html>
<head>
	<title>Infinite Scrolling with GSAP and ScrollTrigger</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			font-family: Arial, sans-serif;
			background-color: #f2f2f2;
		}
		.card {
			position: absolute;
			width: 300px;
			height: 400px;
			background-color: #fff;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
			border-radius: 10px;
			cursor: grab;
			user-select: none;
		}
	</style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"></script>
</head>
<body>

	<div id="cards-container">
		<!-- Initial cards go here -->
		<div class="card" style="top: 100px; left: 100px;"></div>
		<div class="card" style="top: 100px; left: 450px;"></div>
		<div class="card" style="top: 100px; left: 800px;"></div>
	</div>

	
	<script>
		let cards = document.querySelectorAll('.card');

		// Initialize Draggable and Snap Plugin for each card
		cards.forEach((card) => {
			gsap.registerPlugin(Draggable, ScrollTrigger);

			Draggable.create(card, {
				type: "x,y",
				edgeResistance: 0.8,
				bounds: "#cards-container",
				onDragStart: function() {
					// Pause ScrollTrigger during dragging
					ScrollTrigger.pauseAll();
				},
				onDragEnd: function() {
					// Resume ScrollTrigger after dragging
					ScrollTrigger.resumeAll();
				}
			});

			// Define snapping positions for each card
			let snapPositions = [
				{ x: 100, y: 100 },
				{ x: 450, y: 100 },
				{ x: 800, y: 100 }
			];

			// Add ScrollTrigger for each snapping position
			snapPositions.forEach((position) => {
				ScrollTrigger.create({
					trigger: card,
					start: "top center",
					end: "bottom center",
					onToggle: function(self) {
						if (self.isActive) {
							// Snap card to position when active
							gsap.to(card, {
								duration: 0.5,
								x: position.x,
								y: position.y,
								ease: "power2.out"
							});
						}
					}
				});
			});
		});

		// Add Infinite Scrolling with ScrollTrigger
		let cardsContainer = document.querySelector('#cards-container');

		ScrollTrigger.create({
			trigger: cardsContainer,
			start: "top bottom",
			onEnter: function() {
				// Clone and append last card to create infinite scrolling effect
				let lastCard = cards[cards.length - 1];
				let newCard = lastCard.cloneNode(true);
				let newCardX = parseInt(lastCard.style.left) + lastCard.offsetWidth + 50;
				let newCardY = parseInt(lastCard.style.top);

				newCard.style.left = `${new}})
                <script>
                    </body>
                    </html>
